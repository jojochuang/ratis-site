<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-configurations" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Configuration Reference | Apache Ratis</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ratis.apache.org/ratis-site/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ratis.apache.org/ratis-site/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ratis.apache.org/ratis-site/docs/configurations"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Configuration Reference | Apache Ratis"><meta data-rh="true" name="description" content="Server Configurations"><meta data-rh="true" property="og:description" content="Server Configurations"><link data-rh="true" rel="icon" href="/ratis-site/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ratis.apache.org/ratis-site/docs/configurations"><link data-rh="true" rel="alternate" href="https://ratis.apache.org/ratis-site/docs/configurations" hreflang="en"><link data-rh="true" rel="alternate" href="https://ratis.apache.org/ratis-site/docs/configurations" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Configuration Reference","item":"https://ratis.apache.org/ratis-site/docs/configurations"}]}</script><link rel="alternate" type="application/rss+xml" href="/ratis-site/blog/rss.xml" title="Apache Ratis RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/ratis-site/blog/atom.xml" title="Apache Ratis Atom Feed"><link rel="stylesheet" href="/ratis-site/assets/css/styles.4cf10283.css">
<script src="/ratis-site/assets/js/runtime~main.cc38f3b7.js" defer="defer"></script>
<script src="/ratis-site/assets/js/main.a08a0bf5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/ratis-site/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ratis-site/"><div class="navbar__logo"><img src="/ratis-site/img/logo.svg" alt="Apache Ratis Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ratis-site/img/logo.svg" alt="Apache Ratis Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Apache Ratis</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ratis-site/docs/overview">Documentation</a><a class="navbar__item navbar__link" href="/ratis-site/downloads">Downloads</a><a class="navbar__item navbar__link" href="/ratis-site/blog">Blog</a><a class="navbar__item navbar__link" href="/ratis-site/community">Community</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://www.apache.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Apache Software Foundation<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/apache/ratis" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ratis-site/docs/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ratis-site/docs/about">About Apache Ratis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ratis-site/docs/getting-started-detailed">Getting Started (Detailed)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ratis-site/docs/concepts">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ratis-site/docs/cli">Features</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ratis-site/docs/security">Security</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/ratis-site/docs/configurations">References</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ratis-site/docs/configurations">Configuration Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ratis-site/docs/metrics">Metrics</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ratis-site/docs/contributors/building">Contributors</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ratis-site/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">References</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Configuration Reference</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Ratis Configuration Reference</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="server-configurations">Server Configurations<a href="#server-configurations" class="hash-link" aria-label="Direct link to Server Configurations" title="Direct link to Server Configurations">​</a></h2>
<p>Most of the server configurations can be found at <code>RaftServerConfigKeys</code>. To customize configurations, we may 1. create a <code>RaftProperties</code> object, 2. set the desired values, and then 3. pass the customized <code>RaftProperties</code> object when building a <code>RaftServer</code>. For example,</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">final RaftProperties properties = new RaftProperties();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RaftServerConfigKeys.LeaderElection.setPreVote(properties, false);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">final RaftServer raftServer = RaftServer.newBuilder()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .setServerId(id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .setStateMachine(stateMachine)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .setGroup(raftGroup)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .setProperties(properties)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  .build();</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="server">Server<a href="#server" class="hash-link" aria-label="Direct link to Server" title="Direct link to Server">​</a></h3>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.storage.dir</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">root storage directory to hold RaftServer data</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">List&lt;File&gt;</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">/tmp/raft-server/</td></tr></tbody></table>
<hr>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.storage.free-space.min</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">minimal space requirement for storage dir</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">SizeInBytes</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">0MB</td></tr></tbody></table>
<hr>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.removed.groups.dir</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">storage directory to hold removed groups</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">File</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">/tmp/raft-server/removed-groups/</td></tr></tbody></table>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// GroupManagementApi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RaftClientReply remove(RaftGroupId groupId, boolean deleteDirectory, boolean renameDirectory) throws IOException;</span><br></span></code></pre></div></div>
<p>When removing an existing group, if the <code>deleteDirectory</code> flag is set to false and <code>renameDirectory</code> is set to true, the group data will be renamed to this dir instead of being deleted.</p>
<hr>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.sleep.deviation.threshold</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">deviation threshold for election sleep</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">300ms</td></tr></tbody></table>
<p>When a server is a follower, it sleeps and wakes up from time to time for checking the heartbeat condition. If it cannot receive a heartbeat from the leader within the election timeout, it starts a leader election. When a follower server wakes up from a sleep, if the actual sleep time is longer than the intended sleep time by this threshold, it will immediately go back to sleep again, instead of checking the heartbeat condition. The extra sleep time indicates that the server is too busy, probably due to GC.</p>
<hr>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.staging.catchup.gap</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">catching up standard of a new peer</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">1000</td></tr></tbody></table>
<p>When bootstrapping a new peer, If the gap between the match index of the peer and the leader&#x27;s latest committed index is less than this gap, we treat the peer as caught-up. Increase this number when write throughput is high.</p>
<hr>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.staging.timeout</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">timeout of bootstrapping a new peer</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">3 times of <code>raft.server.rpc.timeout.max</code></td></tr></tbody></table>
<p>During the initialization of a new peer, the leader will classify the bootstrap process as &quot;NO PROGRESS&quot; if it fails to receive any RPC responses from this peer within this specified timeout period.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="threadpool">ThreadPool<a href="#threadpool" class="hash-link" aria-label="Direct link to ThreadPool" title="Direct link to ThreadPool">​</a></h3>
<ul>
<li>Configurations related to server thread pools.</li>
</ul>
<ul>
<li>Proxy thread pool: threads that recover and initialize RaftGroups when RaftServer starts.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.threadpool.proxy.cached</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">use CachedThreadPool, otherwise, uee newFixedThreadPool</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">true</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.threadpool.proxy.size</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">the maximum pool size</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">0 (means unlimited for CachedThreadPool. For FixedThreadPool, it must be &gt;0.)</td></tr></tbody></table>
<hr>
<ul>
<li>Server thread pool: threads that handle internal RPCs, such as <code>appendEntries</code>.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.threadpool.server.cached</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">use CachedThreadPool, otherwise, uee newFixedThreadPool</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">true</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.threadpool.proxy.size</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">the maximum pool size</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">0 (means unlimited for CachedThreadPool. For FixedThreadPool, it must be &gt;0.)</td></tr></tbody></table>
<hr>
<ul>
<li>Client thread pool: threads that handle client requests, such as <code>client.io().send()</code> and <code>client.async().send()</code>.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.threadpool.client.cached</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">use CachedThreadPool, otherwise, uee newFixedThreadPool</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">true</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.threadpool.client.size</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">the maximum pool size</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">0 (means unlimited for CachedThreadPool. For FixedThreadPool, it must be &gt;0.)</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="read">Read<a href="#read" class="hash-link" aria-label="Direct link to Read" title="Direct link to Read">​</a></h3>
<ul>
<li>Configurations related to read-only requests.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.read.option</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">Option for processing read-only requests</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left"><code>Read.Option</code> enum[<code>DEFAULT</code>, <code>LINEARIZABLE</code>]</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left"><code>Read.Option.DEFAULT</code></td></tr></tbody></table>
<ul>
<li><code>Read.Option.DEFAULT</code> - Directly query statemachine:<!-- -->
<ul>
<li>It is efficient but does not provide linearizability.</li>
<li>Only the leader can serve read requests. The followers only can serve stale-read requests.</li>
</ul>
</li>
<li><code>Read.Option.LINEARIZABLE</code> - Use ReadIndex (see Raft Paper section 6.4):<!-- -->
<ul>
<li>It provides linearizability.</li>
<li>All the leader and the followers can serve read requests.</li>
</ul>
</li>
</ul>
<hr>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.read.timeout</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">request timeout for linearizable read-only requests</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">10s</td></tr></tbody></table>
<hr>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.read.leader.lease.enabled</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">whether to enable lease in linearizable read-only requests</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">true</td></tr></tbody></table>
<hr>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.read.leader.lease.timeout.ratio</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">maximum timeout ratio of leader lease</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">double, ranging from (0.0,1.0)</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">0.9</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="read-after-write">Read After Write<a href="#read-after-write" class="hash-link" aria-label="Direct link to Read After Write" title="Direct link to Read After Write">​</a></h3>
<ul>
<li>Configurations related to read-after-write-consistency</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.read.read-after-write-consistent.write-index-cache.expiry-time</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">expiration time for server&#x27;s memorized last written index of a specific client</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">60s</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="write">Write<a href="#write" class="hash-link" aria-label="Direct link to Write" title="Direct link to Write">​</a></h3>
<ul>
<li>Configurations related to write requests.</li>
</ul>
<ul>
<li>Limits on pending write requests</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.write.element-limit</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">maximum number of pending write requests</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">4096</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.write.byte-limit</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">maximum byte size of all pending write requests</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">SizeInBytes</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">64MB</td></tr></tbody></table>
<p>Ratis imposes limitations on pending write requests. If the number of pending requests exceeds element-limit or the request size accumulated in pending requests exceeds byte-limit, the server rejects new incoming write requests until the pending situation is relieved.</p>
<hr>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.write.follower.gap.ratio.max</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">the threshold between the majority committed index and slow follower&#x27;s committed index to guarantee the data in cache</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">-1, disable the feature</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="watch">Watch<a href="#watch" class="hash-link" aria-label="Direct link to Watch" title="Direct link to Watch">​</a></h3>
<ul>
<li>Configurations related to watch requests.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.watch.element-limit</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">maximum number of pending watch requests</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">65536</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.watch.timeout</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">watch request timeout</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">10s</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.watch.timeout.denomination</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">watch request timeout denomination for rounding up</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">1s</td></tr></tbody></table>
<p>Note that <code>watch.timeout</code> must be a multiple of <code>watch.timeout.denomination</code>.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="log">Log<a href="#log" class="hash-link" aria-label="Direct link to Log" title="Direct link to Log">​</a></h3>
<ul>
<li>Configurations related to raft log.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.use.memory</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">use memory RaftLog</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">false</td></tr></tbody></table>
<p>Only use memory RaftLog for testing.</p>
<hr>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.queue.element-limit</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">maximum number of pending log tasks</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">4096</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.queue.byte-limit</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">maximum bytes size of all pending log tasks</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">SizeInBytes</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">64MB</td></tr></tbody></table>
<p>Note that <code>log.queue.element-limit</code> and <code>log.queue.byte-limit</code> are similar to <code>write.element-limit</code> and <code>write.byte-limit</code>. When the pending IO tasks reached the limit, Ratis will temporarily stall the new IO Tasks.</p>
<hr>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.purge.gap</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">minimal log gap between two purge tasks</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">1024</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.purge.upto.snapshot.index</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">purge logs up to snapshot index when taking a new snapshot</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">false, by default let the state machine to decide when to do checkpoint</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.purge.preservation.log.num</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">preserve logs when purging logs up to snapshot index</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">long</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">0</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.segment.size.max</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">max file size for a single Raft Log Segment</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">SizeInBytes</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">32MB</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.segment.cache.num.max</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">the maximum number of segments caching log entries besides the open segment</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">6</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.segment.cache.size.max</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">the maximum byte size of segments caching log entries</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">SizeInBytes</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">200MB</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.preallocated.size</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">preallocate size of log segment</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">SizeInBytes</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">4MB</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.write.buffer.size</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">size of direct byte buffer for SegmentedRaftLog FileChannel</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">SizeInBytes</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">8MB</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.force.sync.num</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">perform RaftLog flush tasks when pending flush tasks num exceeds force.sync.num</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">128</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.unsafe-flush.enabled</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">unsafe-flush allows increasing flush index without waiting the actual async-flush to complete</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">false</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.async-flush.enabled</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">async-flush enables to flush the RaftLog asynchronously</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">false</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.corruption.policy</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">the policy to handle corrupted raft log</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left"><code>Log.CorruptionPolicy</code> enum [<code>EXCEPTION</code>, <code>WARN_AND_RETURN</code>]</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">CorruptionPolicy.EXCEPTION</td></tr></tbody></table>
<ol>
<li><code>Log.CorruptionPolicy.EXCEPTION</code>: Rethrow the exception.</li>
<li><code>Log.CorruptionPolicy.WARN_AND_RETURN</code>: Print a warning log message and return all uncorrupted log entries up to the corruption.</li>
</ol>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="statemachinedata">StateMachineData<a href="#statemachinedata" class="hash-link" aria-label="Direct link to StateMachineData" title="Direct link to StateMachineData">​</a></h4>
<ul>
<li>Configurations related to <code>StateMachine.DataApi</code></li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.statemachine.data.sync</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">RaftLog flush should wait for statemachine data to sync</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">true</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.statemachine.data.sync.timeout</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">maximum timeout for statemachine data sync</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">10s</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.statemachine.data.sync.timeout.retry</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">retry policy when statemachine data sync timeouts</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">-1</td></tr></tbody></table>
<ul>
<li>-1: retry indefinitely</li>
<li>0: no retry</li>
<li>
<blockquote>
<p>0: the number of retries</p>
</blockquote>
</li>
</ul>
<hr>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.statemachine.data.read.timeout</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">statemachine data read timeout when get entire log entry</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">1000ms</td></tr></tbody></table>
<hr>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.statemachine.data.caching.enabled</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">enable RaftLogCache to cache statemachine data</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">false</td></tr></tbody></table>
<p>If disabled, the state machine is responsible to cache the data. RaftLogCache will remove the state machine data part when caching a LogEntry. It is to avoid double caching.</p>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="appender">Appender<a href="#appender" class="hash-link" aria-label="Direct link to Appender" title="Direct link to Appender">​</a></h4>
<ul>
<li>Configurations related to leader&#x27;s LogAppender</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.appender.buffer.element-limit</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">limits on log entries num of in a single AppendEntries RPC</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">0, means no limit</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.appender.buffer.byte-limit</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">limits on byte size of all RPC log entries in a single AppendEntries</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">SizeInBytes</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">4MB</td></tr></tbody></table>
<p>It is the limit of</p>
<ul>
<li>max serialized size of a single Log Entry.</li>
<li>max payload of a single AppendEntries RPC.</li>
</ul>
<hr>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.appender.snapshot.chunk.size.max</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">max chunk size of the snapshot contained in a single InstallSnapshot RPC</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">SizeInBytes</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">16MB</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.appender.install.snapshot.enabled</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">allow leader to send snapshot to followers</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">true</td></tr></tbody></table>
<ul>
<li>When <code>install.snapshot.enabled</code> is true and the leader detects that it does not contain the missing logs of a follower, the leader sends a snapshot to follower as specified in the Raft Consensus Algorithm.</li>
<li>When <code>install.snapshot.enabled</code> is false, the leader won&#x27;t send snapshots to follower. It will just send a notification to that follower instead. The follower&#x27;s statemachine is responsible for fetching and installing snapshot by some other means.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.appender.wait-time.min</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">wait time between two subsequent AppendEntries</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">10ms</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.log.appender.retry.policy</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">retry policy under error conditions</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">string</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">1ms,10, 1s,20, 5s,1000</td></tr></tbody></table>
<p>&quot;1ms,10, 1s,20, 5s,1000&quot; means The min wait time as 1ms (0 is not allowed) for first 10, (5 iteration with 2 times grpc client retry), next wait 1sec for next 20 retry (10 iteration with 2 times grpc client) further wait for 5sec for max times ((5sec*980)/2 times ~= 40min)</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="snapshot">Snapshot<a href="#snapshot" class="hash-link" aria-label="Direct link to Snapshot" title="Direct link to Snapshot">​</a></h3>
<ul>
<li>Configurations related to snapshot.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.snapshot.auto.trigger.enabled</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">whether to trigger snapshot when log size exceeds limit</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">false, by default let the state machine to decide when to do checkpoint</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.snapshot.trigger-when-stop.enabled</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">whether to trigger snapshot when raft server stops</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">true</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.snapshot.trigger-when-remove.enabled</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">whether to trigger snapshot when raft server is removed</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">true</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.snapshot.creation.gap</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">the log index gap between to two snapshot creations.</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">long</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">1024</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.snapshot.auto.trigger.threshold</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">log size limit (in number of applied log entries) that triggers the snapshot</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">long</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">400000</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.snapshot.retention.file.num</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">how many old snapshot versions to retain</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">-1, means only keep latest snapshot</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="datastream">DataStream<a href="#datastream" class="hash-link" aria-label="Direct link to DataStream" title="Direct link to DataStream">​</a></h3>
<ul>
<li>ThreadPool configurations related to DataStream Api.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.data-stream.async.request.thread.pool.cached</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">use CachedThreadPool, otherwise, uee newFixedThreadPool</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">false</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.data-stream.async.request.thread.pool.size</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">maximumPoolSize for async request pool</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">32</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.data-stream.async.write.thread.pool.cached</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">use CachedThreadPool, otherwise, uee newFixedThreadPool</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">false</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.data-stream.async.write.thread.pool.size</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">maximumPoolSize for async write pool</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">16</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.data-stream.client.pool.size</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">maximumPoolSize for data stream client pool</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">10</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rpc">RPC<a href="#rpc" class="hash-link" aria-label="Direct link to RPC" title="Direct link to RPC">​</a></h3>
<ul>
<li>Configurations related to Server RPC timeout.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.rpc.request.timeout</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">timeout for AppendEntries RPC</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">3000ms</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.rpc.sleep.time</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">sleep time of two subsequent AppendEntries RPC</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">25ms</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.rpc.slowness.timeout</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">slowness timeout</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">60s</td></tr></tbody></table>
<p>Note that <code>slowness.timeout</code> is use in two places:</p>
<ul>
<li>Leader would consider a follower slow if <code>slowness.timeout</code> elapsed without hearing any responses from this follower.</li>
<li>If server monitors a JVM Pause longer than <code>slowness.timeout</code>, it would shut down itself.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="retrycache">RetryCache<a href="#retrycache" class="hash-link" aria-label="Direct link to RetryCache" title="Direct link to RetryCache">​</a></h4>
<ul>
<li>Configuration related to server retry cache.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.retrycache.expire-time</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">expire time of retry cache entry</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">60s</td></tr></tbody></table>
<p>Note that we should set an expiration time longer than the total retry waiting duration of clients in order to ensure exactly-once semantic.</p>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.retrycache.statistics.expire-time</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">expire time of retry cache statistics</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">100us</td></tr></tbody></table>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="notification">Notification<a href="#notification" class="hash-link" aria-label="Direct link to Notification" title="Direct link to Notification">​</a></h4>
<ul>
<li>Configurations related to state machine notifications.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.notification.no-leader.timeout</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">timeout value to notify the state machine when there is no leader for a period</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">60s</td></tr></tbody></table>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="leaderelection">LeaderElection<a href="#leaderelection" class="hash-link" aria-label="Direct link to LeaderElection" title="Direct link to LeaderElection">​</a></h4>
<ul>
<li>Configurations related to leader election.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.rpc.timeout.min</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">Raft Protocol min election timeout</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">150ms</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.rpc.timeout.max</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">Raft Protocol max election timeout</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">300ms</td></tr></tbody></table>
<hr>
<p>First election timeout is introduced to reduce unavailable time when a RaftGroup initially starts up.</p>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.rpc.first-election.timeout.min</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">Raft Protocol min election timeout</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">150ms</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.rpc.first-election.timeout.max</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">Raft Protocol max election timeout</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">300ms</td></tr></tbody></table>
<hr>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.leaderelection.leader.step-down.wait-time</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">when a leader steps down, it can&#x27;t be re-elected until <code>wait-time</code> elapsed</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">10s</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.leaderelection.pre-vote</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">enable pre-vote</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">true</td></tr></tbody></table>
<p>In Pre-Vote, the candidate does not change its term and try to learn if a majority of the cluster would be willing to grant the candidate their votes (if the candidate’s log is sufficiently up-to-date, and the voters have not received heartbeats from a valid leader for at least a baseline election timeout).</p>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.server.leaderelection.member.majority-add</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">enable majority-add</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">boolean</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">false</td></tr></tbody></table>
<p>Does it allow <em>majority-add</em>, i.e. adding a majority of members in a single setConf?</p>
<ul>
<li>Note that, when a single setConf removes and adds members at the same time, the majority is counted after the removal.
For examples, 1. setConf to a 3-member group by adding 2 new members is NOT a majority-add. 2. However, setConf to a 3-member group by removing 2 of members and adding 2 new members is a majority-add.</li>
<li>Note also that adding 1 new member to an 1-member group is always allowed, although it is a majority-add.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="client-configurations">Client Configurations<a href="#client-configurations" class="hash-link" aria-label="Direct link to Client Configurations" title="Direct link to Client Configurations">​</a></h2>
<p>Client configurations are located at <code>RaftClientConfigKeys</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rpc-1">RPC<a href="#rpc-1" class="hash-link" aria-label="Direct link to RPC" title="Direct link to RPC">​</a></h3>
<ul>
<li>Configurations related to Client RPC timeout.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.client.rpc.request.timeout</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">client side timeout for sending a request</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">3s</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.client.rpc.watch.request.timeout</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">client side timeout for sending a watch request</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">10s</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="async">Async<a href="#async" class="hash-link" aria-label="Direct link to Async" title="Direct link to Async">​</a></h3>
<ul>
<li>Configurations related to async requests.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.client.async.outstanding-requests.max</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">maximum number of outstanding async requests</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">100</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="datastream-1">DataStream<a href="#datastream-1" class="hash-link" aria-label="Direct link to DataStream" title="Direct link to DataStream">​</a></h3>
<ul>
<li>Configurations related to DataStream Api.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.client.data-stream.outstanding-requests.max</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">maximum number of outstanding data stream requests</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">100</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.client.data-stream.flush.request.count.min</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">minimum number of requests before data stream flush would happen</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">int</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">0</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.client.data-stream.flush.request.bytes.min</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">minimum number of bytes before data stream flush would happen</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">SizeInBytes</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">1MB</td></tr></tbody></table>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.client.data-stream.request.timeout</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">timeout for data stream request</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">TimeDuration</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">10s</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="messagestream">MessageStream<a href="#messagestream" class="hash-link" aria-label="Direct link to MessageStream" title="Direct link to MessageStream">​</a></h3>
<ul>
<li>Configurations related to MessageStream Api.</li>
</ul>
<table><thead><tr><th style="text-align:left"><strong>Property</strong></th><th style="text-align:left"><code>raft.client.message-stream.submessage-size</code></th></tr></thead><tbody><tr><td style="text-align:left"><strong>Description</strong></td><td style="text-align:left">maximum size of a sub message</td></tr><tr><td style="text-align:left"><strong>Type</strong></td><td style="text-align:left">SizeInBytes</td></tr><tr><td style="text-align:left"><strong>Default</strong></td><td style="text-align:left">1MB</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/apache/ratis-site/edit/main/docs/configurations.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/ratis-site/docs/security"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Security</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ratis-site/docs/metrics"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Metrics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#server-configurations" class="table-of-contents__link toc-highlight">Server Configurations</a><ul><li><a href="#server" class="table-of-contents__link toc-highlight">Server</a></li><li><a href="#threadpool" class="table-of-contents__link toc-highlight">ThreadPool</a></li><li><a href="#read" class="table-of-contents__link toc-highlight">Read</a></li><li><a href="#read-after-write" class="table-of-contents__link toc-highlight">Read After Write</a></li><li><a href="#write" class="table-of-contents__link toc-highlight">Write</a></li><li><a href="#watch" class="table-of-contents__link toc-highlight">Watch</a></li><li><a href="#log" class="table-of-contents__link toc-highlight">Log</a></li><li><a href="#snapshot" class="table-of-contents__link toc-highlight">Snapshot</a></li><li><a href="#datastream" class="table-of-contents__link toc-highlight">DataStream</a></li><li><a href="#rpc" class="table-of-contents__link toc-highlight">RPC</a></li></ul></li><li><a href="#client-configurations" class="table-of-contents__link toc-highlight">Client Configurations</a><ul><li><a href="#rpc-1" class="table-of-contents__link toc-highlight">RPC</a></li><li><a href="#async" class="table-of-contents__link toc-highlight">Async</a></li><li><a href="#datastream-1" class="table-of-contents__link toc-highlight">DataStream</a></li><li><a href="#messagestream" class="table-of-contents__link toc-highlight">MessageStream</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ratis-site/docs/intro">Documentation</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/apache-ratis" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://ratis.apache.org/mailing-lists.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mailing Lists<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://the-asf.slack.com/archives/C01U6RE02R2" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ratis-site/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/apache/ratis" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">ASF</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.apache.org/licenses/" target="_blank" rel="noopener noreferrer" class="footer__link-item">License<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/sponsorship.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsorship<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.apache.org/foundation/thanks.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thanks<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.apache.org/security/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://privacy.apache.org/policies/privacy-policy-public.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 The Apache Software Foundation. Licensed under the Apache License, Version 2.0.</div></div></div></footer></div>
</body>
</html>